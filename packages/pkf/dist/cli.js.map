{"version":3,"sources":["../src/cli.ts"],"sourcesContent":["/**\r\n * PKF CLI - Project Knowledge Framework\r\n * Unified CLI for documentation management\r\n */\r\n\r\nimport { Command } from 'commander';\r\nimport chalk from 'chalk';\r\n\r\nconst program = new Command();\r\n\r\nprogram\r\n  .name('pkf')\r\n  .description('Project Knowledge Framework - Declarative documentation management')\r\n  .version('1.0.0');\r\n\r\n// Init command - scaffolds PKF in a project\r\nprogram\r\n  .command('init')\r\n  .description('Initialize PKF in the current project')\r\n  .option('-y, --yes', 'Skip prompts and use defaults', false)\r\n  .option('--template <name>', 'Use a specific template (minimal, standard, full)', 'standard')\r\n  .action(async (options) => {\r\n    const { initCommand } = await import('./commands/init.js');\r\n    await initCommand(options);\r\n  });\r\n\r\n// Build command - process config and generate artifacts\r\nprogram\r\n  .command('build')\r\n  .description('Process pkf.config.yaml and generate validation artifacts')\r\n  .option('-c, --config <path>', 'Path to pkf.config.yaml', 'pkf.config.yaml')\r\n  .option('-o, --output <dir>', 'Output directory for generated artifacts', '.pkf/generated')\r\n  .option('--strict', 'Enable strict validation mode', false)\r\n  .action(async (options) => {\r\n    const { buildCommand } = await import('./commands/build.js');\r\n    await buildCommand(options);\r\n  });\r\n\r\n// Validate command - run all validations\r\nprogram\r\n  .command('validate')\r\n  .description('Validate documentation structure and content')\r\n  .option('-c, --config <path>', 'Path to pkf.config.yaml', 'pkf.config.yaml')\r\n  .option('--structure', 'Validate directory structure only', false)\r\n  .option('--content', 'Validate content only (frontmatter, links)', false)\r\n  .option('--fix', 'Attempt to auto-fix issues where possible', false)\r\n  .action(async (options) => {\r\n    const { validateCommand } = await import('./commands/validate.js');\r\n    await validateCommand(options);\r\n  });\r\n\r\n// Check command - quick validation check (alias for validate)\r\nprogram\r\n  .command('check')\r\n  .description('Quick validation check (alias for validate)')\r\n  .action(async () => {\r\n    const { validateCommand } = await import('./commands/validate.js');\r\n    await validateCommand({});\r\n  });\r\n\r\n// Status command - show PKF status in current project\r\nprogram\r\n  .command('status')\r\n  .description('Show PKF status in current project')\r\n  .action(async () => {\r\n    const { statusCommand } = await import('./commands/status.js');\r\n    await statusCommand();\r\n  });\r\n\r\n// Add helpful error handling\r\nprogram.showHelpAfterError('(add --help for additional information)');\r\n\r\n// Custom help\r\nprogram.addHelpText('after', `\r\n${chalk.bold('Examples:')}\r\n  ${chalk.gray('# Initialize PKF in current project')}\r\n  $ pkf init\r\n\r\n  ${chalk.gray('# Build validation artifacts')}\r\n  $ pkf build\r\n\r\n  ${chalk.gray('# Validate documentation')}\r\n  $ pkf validate\r\n\r\n  ${chalk.gray('# Quick status check')}\r\n  $ pkf status\r\n\r\n${chalk.bold('Documentation:')}\r\n  https://github.com/pantheon-tech/pkf\r\n`);\r\n\r\nprogram.parse();\r\n"],"mappings":";;;AAKA,SAAS,eAAe;AACxB,OAAO,WAAW;AAElB,IAAM,UAAU,IAAI,QAAQ;AAE5B,QACG,KAAK,KAAK,EACV,YAAY,oEAAoE,EAChF,QAAQ,OAAO;AAGlB,QACG,QAAQ,MAAM,EACd,YAAY,uCAAuC,EACnD,OAAO,aAAa,iCAAiC,KAAK,EAC1D,OAAO,qBAAqB,qDAAqD,UAAU,EAC3F,OAAO,OAAO,YAAY;AACzB,QAAM,EAAE,YAAY,IAAI,MAAM,OAAO,oBAAoB;AACzD,QAAM,YAAY,OAAO;AAC3B,CAAC;AAGH,QACG,QAAQ,OAAO,EACf,YAAY,2DAA2D,EACvE,OAAO,uBAAuB,2BAA2B,iBAAiB,EAC1E,OAAO,sBAAsB,4CAA4C,gBAAgB,EACzF,OAAO,YAAY,iCAAiC,KAAK,EACzD,OAAO,OAAO,YAAY;AACzB,QAAM,EAAE,aAAa,IAAI,MAAM,OAAO,qBAAqB;AAC3D,QAAM,aAAa,OAAO;AAC5B,CAAC;AAGH,QACG,QAAQ,UAAU,EAClB,YAAY,8CAA8C,EAC1D,OAAO,uBAAuB,2BAA2B,iBAAiB,EAC1E,OAAO,eAAe,qCAAqC,KAAK,EAChE,OAAO,aAAa,8CAA8C,KAAK,EACvE,OAAO,SAAS,6CAA6C,KAAK,EAClE,OAAO,OAAO,YAAY;AACzB,QAAM,EAAE,gBAAgB,IAAI,MAAM,OAAO,wBAAwB;AACjE,QAAM,gBAAgB,OAAO;AAC/B,CAAC;AAGH,QACG,QAAQ,OAAO,EACf,YAAY,6CAA6C,EACzD,OAAO,YAAY;AAClB,QAAM,EAAE,gBAAgB,IAAI,MAAM,OAAO,wBAAwB;AACjE,QAAM,gBAAgB,CAAC,CAAC;AAC1B,CAAC;AAGH,QACG,QAAQ,QAAQ,EAChB,YAAY,oCAAoC,EAChD,OAAO,YAAY;AAClB,QAAM,EAAE,cAAc,IAAI,MAAM,OAAO,sBAAsB;AAC7D,QAAM,cAAc;AACtB,CAAC;AAGH,QAAQ,mBAAmB,yCAAyC;AAGpE,QAAQ,YAAY,SAAS;AAAA,EAC3B,MAAM,KAAK,WAAW,CAAC;AAAA,IACrB,MAAM,KAAK,qCAAqC,CAAC;AAAA;AAAA;AAAA,IAGjD,MAAM,KAAK,8BAA8B,CAAC;AAAA;AAAA;AAAA,IAG1C,MAAM,KAAK,0BAA0B,CAAC;AAAA;AAAA;AAAA,IAGtC,MAAM,KAAK,sBAAsB,CAAC;AAAA;AAAA;AAAA,EAGpC,MAAM,KAAK,gBAAgB,CAAC;AAAA;AAAA,CAE7B;AAED,QAAQ,MAAM;","names":[]}